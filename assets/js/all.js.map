{"version":3,"sources":["00_default.js","01_login.js","021_backend_components.js","022_backend_root.js"],"names":["baseUrl","API_PATH","AUTH_TOKEN","document","cookie","replace","app","data","userInfo","username","password","methods","loginIn","axios","post","then","res","token","expired","Date","window","location","err","console","log","response","errTitle","message","errMSG","error","swal","icon","Vue","createApp","mount","pagination_products","props","template","modal_edit","is_uploadImg","uploadImgFile","imageUrl","uploadProductImg","btn_uploadImg","querySelector","file","files","dir","formData","FormData","append","value","copyText","clipboard","ClipboardJS","on","e","info","action","text","trigger","clearSelection","modal_del","editModal","delModal","app2","products","pagination","tempItemInfo","imagesUrl","is_addNewProduct","components","checkLogin","defaults","headers","common","getProducts","page","get","changeStatus","id","forEach","item","is_enabled","editProduct","dataObj","httpStatus","url","title","current_page","msg","el","hide","openEditModal","JSON","parse","stringify","show","openDelModal","delProduct","dataID","mounted","bootstrap","Modal"],"mappings":"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","file":"all.js","sourcesContent":["const baseUrl = 'https://vue3-course-api.hexschool.io/v2';\r\nconst API_PATH = 'sylviah';\r\nconst AUTH_TOKEN = document.cookie.replace(/(?:(?:^|.*;\\s*)myToken\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\");\r\n","const app = {\r\n    data() {\r\n        return {\r\n            userInfo:{\r\n                username: '',\r\n                password: ''\r\n            }\r\n        }\r\n    },\r\n    methods:{\r\n        loginIn(){\r\n            axios.post(`${baseUrl}/admin/signin`, this.userInfo)\r\n            .then(res => {\r\n                const { token, expired } = res.data;\r\n                // 用 cookie 儲存資料，myToken 是自定義名稱\r\n                document.cookie = `myToken=${ token }; expires=${new Date(expired)};`;\r\n                window.location = './backend.html';\r\n            })\r\n            .catch(err => {\r\n                console.log(err.response);\r\n                const errTitle = err.response.data.message;\r\n                const errMSG = err.response.data.error.message;\r\n                //登入失敗，sweetalert 跳出提示訊息視窗\r\n                swal(`${errTitle}！`, errMSG, {\r\n                    icon: \"error\",\r\n                });\r\n            })\r\n        }\r\n    }\r\n};\r\n\r\n// 建立實體、掛載\r\nVue.createApp(app).mount('#app');\r\n","// 元件 - 後臺產品列表分頁元件\r\nconst pagination_products = {\r\n    props:['pagination'],\r\n    template:'#pagination-template'\r\n}\r\n\r\n// 元件 - Modal 編輯產品樣板\r\nconst modal_edit = {\r\n    data(){\r\n        return{\r\n            is_uploadImg:0,\r\n            uploadImgFile:{\r\n                imageUrl:'',\r\n                message:''\r\n            },\r\n        }\r\n    },\r\n    props:['tempItemInfo','is_addNewProduct'],\r\n    template:'#edit-modal-template',\r\n    methods:{\r\n        uploadProductImg(){\r\n            // 圖片上傳中\r\n            this.is_uploadImg = 1;\r\n\r\n            //清空預設\r\n            this.uploadImgFile = {\r\n                imageUrl:'',\r\n                message:''\r\n            }\r\n\r\n            const btn_uploadImg = document.querySelector('#btn_uploadImg');\r\n            \r\n            let file = btn_uploadImg.files[0];\r\n            console.dir(file); // 先對 input 內容進行觀察\r\n        \r\n            const formData = new FormData(); //建立表單格式的物件\r\n            // 對應平台 API 格式：<input type=\"file\" name=\"file-to-upload\">\r\n            formData.append('file-to-upload', file);\r\n\r\n            axios.post(`${baseUrl}/api/${API_PATH}/admin/upload`, formData)\r\n            .then(res => {\r\n                console.log(res.data.imageUrl);\r\n                this.uploadImgFile.imageUrl = res.data.imageUrl;\r\n                // 圖片上傳完成\r\n                this.is_uploadImg = 0;\r\n                // 清空上傳檔案\r\n                btn_uploadImg.value = '';\r\n            })\r\n            .catch(err => {\r\n                console.log(err.response.message);\r\n                this.uploadImgFile.message = err.response.message;\r\n                // 圖片上傳失敗，重設狀態\r\n                this.is_uploadImg = 0;\r\n            })\r\n        },\r\n        copyText(){\r\n            const clipboard = new ClipboardJS('#btn_copyLink');\r\n            \r\n            clipboard.on('success', function(e) {\r\n                console.info('Action:', e.action);\r\n                console.info('Text:', e.text);\r\n                console.info('Trigger:', e.trigger);\r\n            \r\n                e.clearSelection(); //取消選取\r\n            });\r\n            \r\n            clipboard.on('error', function(e) {\r\n                console.error('Action:', e.action);\r\n                console.error('Trigger:', e.trigger);\r\n            });\r\n        },\r\n    }\r\n}\r\n\r\n// 元件 - Modal 刪除產品樣板\r\nconst modal_del = {\r\n    props:['tempItemInfo'],\r\n    template:'#del-modal-template'\r\n}\r\n","let editModal = '';\r\nlet delModal = '';\r\n\r\nconst app2 = Vue.createApp({\r\n    data() {\r\n        return {\r\n            products : [],\r\n            pagination:{},\r\n            tempItemInfo:{\r\n                imagesUrl:[]\r\n            },\r\n            // 是否新增新產品，預設狀態:\"0-否\"\r\n            is_addNewProduct:0,\r\n        }\r\n    },\r\n    components:{\r\n        pagination_products,\r\n        modal_edit,\r\n        modal_del,\r\n    },\r\n    methods:{\r\n        checkLogin(){\r\n            AUTH_TOKEN = document.cookie.replace(/(?:(?:^|.*;\\s*)myToken\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\");\r\n            axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\r\n            axios.post(`${baseUrl}/api/user/check`)\r\n            .then(() => {\r\n                this.getProducts();\r\n            })\r\n            .catch(err => {\r\n                console.log(err.response);\r\n                window.location = './index.html';\r\n            })\r\n        },\r\n        getProducts(page = 1){\r\n            axios.get(`${baseUrl}/api/${API_PATH}/admin/products?page=${page}`)\r\n            .then(res => {\r\n                console.log(res.data.products);\r\n                this.products = res.data.products;\r\n                this.pagination = res.data.pagination;\r\n            })\r\n            .catch(err => {\r\n                console.log(err.response);\r\n            })\r\n        },\r\n        changeStatus(id){\r\n            this.is_addNewProduct = 0;\r\n            this.products.forEach(item => {\r\n                if(item.id === id){\r\n                    item.is_enabled ? item.is_enabled = 0 : item.is_enabled = 1;\r\n                    console.log(item);\r\n                    this.editProduct(item,id);\r\n                }\r\n            });\r\n        },\r\n        editProduct(item,id){\r\n            if(item) {\r\n                this.tempItemInfo = item;\r\n            }\r\n            const dataObj = {\r\n                \"data\": this.tempItemInfo\r\n            };\r\n            let httpStatus = '';\r\n            let url = '';\r\n\r\n            if(this.is_addNewProduct){\r\n                httpStatus = 'post';\r\n                url = `${baseUrl}/api/${API_PATH}/admin/product`;\r\n            } else {\r\n                httpStatus = 'put';\r\n                url = `${baseUrl}/api/${API_PATH}/admin/product/${this.tempItemInfo.id || id}`;\r\n            }\r\n\r\n            axios[httpStatus](url, dataObj)\r\n            .then(res => {\r\n                console.log(res.data);\r\n                if(httpStatus === 'post'){\r\n                    //成功新增產品，sweetalert 跳出提示訊息視窗\r\n                    swal('成功！', `成功新增 ${this.tempItemInfo.title}`, {\r\n                        icon: \"success\",\r\n                    });\r\n                } else {\r\n                    //成功更新產品，sweetalert 跳出提示訊息視窗\r\n                    swal('成功！', `已更新 ${this.tempItemInfo.title} 的資訊`, {\r\n                        icon: \"success\",\r\n                    });\r\n                }\r\n                this.getProducts(this.pagination.current_page);\r\n            })\r\n            .catch(err => {\r\n                console.log(err.response);\r\n                const errMSG = err.response.data.message;\r\n                let msg = '';\r\n                errMSG.forEach(el => msg+=el+'。\\n')\r\n                //更新失敗，sweetalert 跳出提示訊息視窗\r\n                swal('失敗！請重新輸入資訊。', msg, {\r\n                    icon: \"error\",\r\n                });\r\n            });\r\n\r\n            // 清空上傳圖片區\r\n            this.uploadImgFile = {\r\n                imageUrl:'',\r\n                message:''\r\n            }\r\n\r\n            // 關閉 modal\r\n            editModal.hide();\r\n\r\n        },\r\n        openEditModal(is_addNewProduct,item){\r\n            this.is_addNewProduct = is_addNewProduct;\r\n            this.tempItemInfo = {\r\n                imagesUrl:[]\r\n            }\r\n\r\n            if(item) {\r\n                this.tempItemInfo = JSON.parse(JSON.stringify(item));\r\n\r\n                if(!this.tempItemInfo.imagesUrl) {\r\n                    this.tempItemInfo.imagesUrl = [];\r\n                }\r\n            }\r\n        \r\n            editModal.show();\r\n\r\n        },\r\n        openDelModal(item){\r\n            this.tempItemInfo = {\r\n                ...item\r\n            }\r\n        \r\n            delModal.show();\r\n\r\n        },\r\n        delProduct(){\r\n            const dataID = this.tempItemInfo.id;\r\n            axios.delete(`${baseUrl}/api/${API_PATH}/admin/product/${dataID}`)\r\n            .then(res => {\r\n                //成功刪除產品，sweetalert 跳出提示訊息視窗\r\n                swal('成功！', `已刪除 ${this.tempItemInfo.title} 的資訊`, {\r\n                    icon: \"success\",\r\n                });\r\n                this.getProducts(this.pagination.current_page);\r\n            })\r\n            .catch(err => {\r\n                console.log(err.response);\r\n                //刪除失敗，sweetalert 跳出提示訊息視窗\r\n                swal('失敗！', '請再試一次', {\r\n                    icon: \"error\",\r\n                });\r\n            });\r\n\r\n            delModal.hide();\r\n        }\r\n    },\r\n    mounted(){\r\n        this.checkLogin();\r\n        editModal = new bootstrap.Modal(document.querySelector('#productModal'));\r\n        delModal = new bootstrap.Modal(document.querySelector('#delProductModal'));\r\n    }\r\n});\r\n\r\napp2.mount('#app2');\r\n"]}